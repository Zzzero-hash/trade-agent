# Optuna search space for Transformer forecaster
# Usage:
#   python scripts/train_sl_hydra.py -m hydra/sweeper=optuna \
#     model=transformer +search_space=transformer_core optuna.n_trials=40 \
#     optimization.metric=cv_mse

hydra:
  sweeper:
    search_space:
      model.d_model:
        type: categorical
        choices: [64, 128, 256]
      model.nhead:
        type: categorical
        choices: [4, 8]
      model.num_layers:
        type: int
        low: 2
        high: 8
      model.dim_feedforward:
        type: categorical
        choices: [256, 512, 1024]
      model.dropout:
        type: float
        low: 0.0
        high: 0.4
      model.attention_dropout:
        type: float
        low: 0.0
        high: 0.4
      model.learning_rate:
        type: float
        low: 1e-5
        high: 5e-3
        log: true
      model.weight_decay:
        type: float
        low: 1e-6
        high: 1e-3
        log: true
      model.sequence_length:
        type: int
        low: 20
        high: 120
      random_state:
        type: int
        low: 1
        high: 10000
