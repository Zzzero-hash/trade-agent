{
  "replay_metadata": {
    "script_version": "1.0.0",
    "execution_timestamp": "2025-08-14T17:46:27.153910",
    "seed": 42,
    "status": "FAIL"
  },
  "seed_validation": {
    "status": "PASS",
    "seed_used": 42,
    "reproducibility_test": true,
    "sample_hash": "5e00bd3f07ba6a862e724ca1d8a14bdb9fdebdd589a1d5c02d14a3f9a1853957",
    "error": null
  },
  "feature_building": {
    "status": "PASS",
    "input_data_shape": [10, 5],
    "output_features_shape": [0, 19],
    "feature_columns": [
      "log_returns",
      "rolling_mean_20",
      "rolling_vol_20",
      "rolling_mean_60",
      "rolling_vol_60",
      "atr",
      "rsi",
      "price_z_score",
      "volume_z_score",
      "realized_vol",
      "day_of_week",
      "month",
      "day_of_month",
      "is_monday",
      "is_friday",
      "is_month_start",
      "is_month_end",
      "mu_hat",
      "sigma_hat"
    ],
    "build_time_seconds": 0.012768745422363281,
    "features_hash": "6b9fa820b1769371d5bee2f71876c14b641a77aa9d61f9caa4996813ed1c8c4e",
    "features_path": "data/replay_features.parquet",
    "error": null
  },
  "sl_training": {
    "status": "ERROR",
    "error": "Found array with 0 sample(s) (shape=(0, 17)) while a minimum of 1 is required by Ridge.",
    "traceback": "Traceback (most recent call last):\n  File \"/workspaces/trade-agent/scripts/replay_run.py\", line 252, in step_3_train_sl_baseline\n    sl_results = train_model_from_config(\n                 ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/trade-agent/src/sl/train.py\", line 434, in train_model_from_config\n    results = pipeline.train(X, y)\n              ^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/trade-agent/src/sl/train.py\", line 247, in train\n    self.model.fit(X, y)\n  File \"/workspaces/trade-agent/src/sl/models/traditional.py\", line 46, in fit\n    self.model.fit(X, y)\n  File \"/usr/local/python/3.11.13/lib/python3.11/site-packages/sklearn/base.py\", line 1365, in wrapper\n    return fit_method(estimator, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/python/3.11.13/lib/python3.11/site-packages/sklearn/linear_model/_ridge.py\", line 1238, in fit\n    X, y = validate_data(\n           ^^^^^^^^^^^^^^\n  File \"/usr/local/python/3.11.13/lib/python3.11/site-packages/sklearn/utils/validation.py\", line 2971, in validate_data\n    X, y = check_X_y(X, y, **check_params)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/usr/local/python/3.11.13/lib/python3.11/site-packages/sklearn/utils/validation.py\", line 1368, in check_X_y\n    X = check_array(\n        ^^^^^^^^^^^^\n  File \"/usr/local/python/3.11.13/lib/python3.11/site-packages/sklearn/utils/validation.py\", line 1128, in check_array\n    raise ValueError(\nValueError: Found array with 0 sample(s) (shape=(0, 17)) while a minimum of 1 is required by Ridge.\n"
  },
  "rl_training": {
    "ppo": {
      "status": "ERROR",
      "error": "[Errno 104] Connection reset by peer"
    },
    "sac": {
      "status": "ERROR",
      "error": "[Errno 104] Connection reset by peer"
    }
  },
  "hash_validation": {
    "features": {
      "original_hash": "6b9fa820b1769371d5bee2f71876c14b641a77aa9d61f9caa4996813ed1c8c4e",
      "recomputed_hash": "6b9fa820b1769371d5bee2f71876c14b641a77aa9d61f9caa4996813ed1c8c4e",
      "matches": true,
      "status": "PASS"
    }
  },
  "metric_validation": {
    "validations": [
      {
        "metric_name": "feature_count",
        "actual_value": 19.0,
        "expected_value": 50.0,
        "tolerance": 0.1,
        "relative_error": 0.62,
        "within_tolerance": false,
        "status": "FAIL"
      },
      {
        "metric_name": "sample_count",
        "actual_value": 0.0,
        "expected_value": 100.0,
        "tolerance": 0.05,
        "relative_error": 1.0,
        "within_tolerance": false,
        "status": "FAIL"
      }
    ],
    "total_validations": 2,
    "passed_validations": 0,
    "failed_validations": 2
  },
  "tolerance_checks": {
    "checks": [
      {
        "check_name": "feature_build_time",
        "actual_value": 0.012768745422363281,
        "max_allowed": 60.0,
        "within_tolerance": true,
        "status": "PASS"
      },
      {
        "check_name": "minimum_samples",
        "actual_value": 0,
        "min_required": 10,
        "within_tolerance": false,
        "status": "FAIL"
      },
      {
        "check_name": "minimum_features",
        "actual_value": 19,
        "min_required": 5,
        "within_tolerance": true,
        "status": "PASS"
      }
    ],
    "total_checks": 3,
    "passed_checks": 2,
    "failed_checks": 1
  },
  "overall_validation": {
    "status": "FAIL",
    "total_steps": 7,
    "passed_steps": 3,
    "failed_steps": 4,
    "success_rate": 0.42857142857142855,
    "step_results": {
      "seed_validation": true,
      "feature_building": true,
      "sl_training": false,
      "rl_training": false,
      "hash_validation": true,
      "metric_validation": false,
      "tolerance_checks": false
    }
  }
}
